stepsWF:
  load_SPR: |
    codeLine: library(systemPipeR)
    codeChunkStart: 118
    rmdPath: systemPipeRNAseq_importWF.Rmd
    stepName: load_SPR
    dependency:
      load_SPR: ''
    status:
      status.summary: Pending
      status.completed:
        Step: load_SPR
        status.summary: Pending
      status.time: {}
    files: []
  trimming: |
    targets:
      M1A:
        FileName1: ./data/SRR446027_1.fastq.gz
        FileName2: ./data/SRR446027_2.fastq.gz
        SampleName: M1A
        Factor: M1
        SampleLong: Mock.1h.A
        Experiment: 1
        Date: 23-Mar-2012
      M1B:
        FileName1: ./data/SRR446028_1.fastq.gz
        FileName2: ./data/SRR446028_2.fastq.gz
        SampleName: M1B
        Factor: M1
        SampleLong: Mock.1h.B
        Experiment: 1
        Date: 23-Mar-2012
      A1A:
        FileName1: ./data/SRR446029_1.fastq.gz
        FileName2: ./data/SRR446029_2.fastq.gz
        SampleName: A1A
        Factor: A1
        SampleLong: Avr.1h.A
        Experiment: 1
        Date: 23-Mar-2012
      A1B:
        FileName1: ./data/SRR446030_1.fastq.gz
        FileName2: ./data/SRR446030_2.fastq.gz
        SampleName: A1B
        Factor: A1
        SampleLong: Avr.1h.B
        Experiment: 1
        Date: 23-Mar-2012
    targetsheader:
      targetsheader:
      - '# Project ID: Arabidopsis - Pseudomonas alternative splicing study (SRA: SRP010938;
        PMID: 24098335)'
      - '# The following line(s) allow to specify the contrasts needed for comparative
        analyses, such as DEG identification. All possible comparisons can be specified
        with ''CMPset: ALL''.'
      - '# <CMP> CMPset1: M1-A1'
      - '# <CMP> CMPset2: ALL'
    modules:
      module1: trimmomatic/0.36
    wf: []
    clt:
      trimmomatic-pe.cwl:
        cwlVersion: v1.0
        class: CommandLineTool
        doc: '[TRIMMOMATIC](http://www.usadellab.org/cms/?page=trimmomatic)'
        label: Last updated 09/2019
        hints:
          SoftwareRequirement:
            packages:
            - package: trimmomatic
              version: 0.0.36
        baseCommand:
        - trimmomatic
        - PE
        requirements:
          InitialWorkDirRequirement:
            listing: $(inputs.results_path)
        arguments:
        - valueFrom: -phred33
        - valueFrom: $(inputs.fq1)
        - valueFrom: $(inputs.fq2)
        - valueFrom: $(inputs.results_path.basename)/$(inputs.SampleName)_1P.trimmed.fastq.gz
        - valueFrom: $(inputs.results_path.basename)/$(inputs.SampleName)_1U.trimmed.fastq.gz
        - valueFrom: $(inputs.results_path.basename)/$(inputs.SampleName)_2P.trimmed.fastq.gz
        - valueFrom: $(inputs.results_path.basename)/$(inputs.SampleName)_2U.trimmed.fastq.gz
        inputs:
          fq1:
            label: Comma-separated list of files containing mate 1s to be aligned
            type: File
          fq2:
            label: Comma-separated list of files containing mate 2s to be aligned
            type: File
          SampleName:
            label: Filename to write output to
            type: string
          results_path:
            label: Path to the results directory
            type: Directory
          thread:
            label: Launch NTHREADS parallel search threads
            type: int
            inputBinding:
              prefix: -threads
          minlen:
            label: Reads of lengths shorter will be discarded
            type: string
            inputBinding:
              position: 1
          leading:
            label: Minimum quality required to keep a base in the beginning of the read
            type: string
            inputBinding:
              position: 2
          trailing:
            label: Minimum quality required to keep a base in the end of the read
            type: string
            inputBinding:
              position: 3
          slidingwindow:
            label: Window size and average quality required
            type: string
            inputBinding:
              position: 4
        outputs:
          trimmomatic_1_paired:
            label: Paired forward reads
            type: File
            outputBinding:
              glob: $(inputs.results_path.basename)/$(inputs.SampleName)_1P.trimmed.fastq.gz
          trimmomatic_1_unpaired:
            label: Unpaired forward reads
            type: File
            outputBinding:
              glob: $(inputs.results_path.basename)/$(inputs.SampleName)_1U.trimmed.fastq.gz
          trimmomatic_2_paired:
            label: Paired reverse reads
            type: File
            outputBinding:
              glob: $(inputs.results_path.basename)/$(inputs.SampleName)_2P.trimmed.fastq.gz
          trimmomatic_2_unpaired:
            label: Unpaired reverse reads
            type: File
            outputBinding:
              glob: $(inputs.results_path.basename)/$(inputs.SampleName)_2U.trimmed.fastq.gz
    yamlinput:
      fq1:
        class: File
        path: _FASTQ_PATH1_
      fq2:
        class: File
        path: _FASTQ_PATH2_
      SampleName: _SampleName_
      results_path:
        class: Directory
        path: ./results
      ModulesToLoad:
        module1: trimmomatic/0.36
      minlen: MINLEN:35
      thread: 4
      leading: LEADING:3
      trailing: TRAILING:3
      slidingwindow: SLIDINGWINDOW:4:5
      adapter: AGATCGGAAGAGC
      phred: 33
    cmdlist:
      M1A:
        trimmomatic-pe: trimmomatic PE -phred33  ./data/SRR446027_1.fastq.gz  ./data/SRR446027_2.fastq.gz  results/M1A_1P.trimmed.fastq.gz  results/M1A_1U.trimmed.fastq.gz  results/M1A_2P.trimmed.fastq.gz  results/M1A_2U.trimmed.fastq.gz  -threads
          4 MINLEN:35 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:5
      M1B:
        trimmomatic-pe: trimmomatic PE -phred33  ./data/SRR446028_1.fastq.gz  ./data/SRR446028_2.fastq.gz  results/M1B_1P.trimmed.fastq.gz  results/M1B_1U.trimmed.fastq.gz  results/M1B_2P.trimmed.fastq.gz  results/M1B_2U.trimmed.fastq.gz  -threads
          4 MINLEN:35 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:5
      A1A:
        trimmomatic-pe: trimmomatic PE -phred33  ./data/SRR446029_1.fastq.gz  ./data/SRR446029_2.fastq.gz  results/A1A_1P.trimmed.fastq.gz  results/A1A_1U.trimmed.fastq.gz  results/A1A_2P.trimmed.fastq.gz  results/A1A_2U.trimmed.fastq.gz  -threads
          4 MINLEN:35 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:5
      A1B:
        trimmomatic-pe: trimmomatic PE -phred33  ./data/SRR446030_1.fastq.gz  ./data/SRR446030_2.fastq.gz  results/A1B_1P.trimmed.fastq.gz  results/A1B_1U.trimmed.fastq.gz  results/A1B_2P.trimmed.fastq.gz  results/A1B_2U.trimmed.fastq.gz  -threads
          4 MINLEN:35 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:5
    input:
      M1A:
        FileName1: ./data/SRR446027_1.fastq.gz
        FileName2: ./data/SRR446027_2.fastq.gz
        SampleName: M1A
      M1B:
        FileName1: ./data/SRR446028_1.fastq.gz
        FileName2: ./data/SRR446028_2.fastq.gz
        SampleName: M1B
      A1A:
        FileName1: ./data/SRR446029_1.fastq.gz
        FileName2: ./data/SRR446029_2.fastq.gz
        SampleName: A1A
      A1B:
        FileName1: ./data/SRR446030_1.fastq.gz
        FileName2: ./data/SRR446030_2.fastq.gz
        SampleName: A1B
    output:
      M1A:
        trimmomatic-pe:
        - results/M1A_1P.trimmed.fastq.gz
        - results/M1A_1U.trimmed.fastq.gz
        - results/M1A_2P.trimmed.fastq.gz
        - results/M1A_2U.trimmed.fastq.gz
      M1B:
        trimmomatic-pe:
        - results/M1B_1P.trimmed.fastq.gz
        - results/M1B_1U.trimmed.fastq.gz
        - results/M1B_2P.trimmed.fastq.gz
        - results/M1B_2U.trimmed.fastq.gz
      A1A:
        trimmomatic-pe:
        - results/A1A_1P.trimmed.fastq.gz
        - results/A1A_1U.trimmed.fastq.gz
        - results/A1A_2P.trimmed.fastq.gz
        - results/A1A_2U.trimmed.fastq.gz
      A1B:
        trimmomatic-pe:
        - results/A1B_1P.trimmed.fastq.gz
        - results/A1B_1U.trimmed.fastq.gz
        - results/A1B_2P.trimmed.fastq.gz
        - results/A1B_2U.trimmed.fastq.gz
    files:
      cwl: trimmomatic/trimmomatic-pe.cwl
      yml: trimmomatic/trimmomatic-pe.yml
      dir_path: /param/cwl
      steps: trimmomatic-pe
      output_names:
      - trimmomatic_1_paired
      - trimmomatic_1_unpaired
      - trimmomatic_2_paired
      - trimmomatic_2_unpaired
      targets: targetsPE.txt
    inputvars:
      FileName1: _FASTQ_PATH1_
      FileName2: _FASTQ_PATH2_
      SampleName: _SampleName_
    cmdToCwl: []
    status:
      status.summary: Pending
      status.completed:
        Targets:
        - M1A
        - M1B
        - A1A
        - A1B
        Total_Files:
        - 4.0
        - 4.0
        - 4.0
        - 4.0
        Existing_Files:
        - 0.0
        - 0.0
        - 0.0
        - 0.0
        Missing_Files:
        - 4.0
        - 4.0
        - 4.0
        - 4.0
        trimmomatic-pe:
        - Pending
        - Pending
        - Pending
        - Pending
      status.time: {}
    internal_outfiles:
      M1A:
        trimmomatic-pe:
        - results/M1A_1P.trimmed.fastq.gz
        - results/M1A_1U.trimmed.fastq.gz
        - results/M1A_2P.trimmed.fastq.gz
        - results/M1A_2U.trimmed.fastq.gz
      M1B:
        trimmomatic-pe:
        - results/M1B_1P.trimmed.fastq.gz
        - results/M1B_1U.trimmed.fastq.gz
        - results/M1B_2P.trimmed.fastq.gz
        - results/M1B_2U.trimmed.fastq.gz
      A1A:
        trimmomatic-pe:
        - results/A1A_1P.trimmed.fastq.gz
        - results/A1A_1U.trimmed.fastq.gz
        - results/A1A_2P.trimmed.fastq.gz
        - results/A1A_2U.trimmed.fastq.gz
      A1B:
        trimmomatic-pe:
        - results/A1B_1P.trimmed.fastq.gz
        - results/A1B_1U.trimmed.fastq.gz
        - results/A1B_2P.trimmed.fastq.gz
        - results/A1B_2U.trimmed.fastq.gz
  hisat2_index: |
    targets: {}
    targetsheader: []
    modules:
      module1: hisat2/2.1.0
    wf: []
    clt:
      hisat2-index.cwl:
        cwlVersion: v1.0
        class: CommandLineTool
        doc: '[HISAT2](https://ccb.jhu.edu/software/hisat2/index.shtml): graph-based alignment
          of next generation sequencing reads to a population of genomes'
        label: Last updated 08/2019
        hints:
          SoftwareRequirement:
            packages:
            - package: hisat2
              version: 2.1.0
        baseCommand: hisat2-build
        requirements:
          InitialWorkDirRequirement:
            listing: $(inputs.idx_basedir)
        arguments:
        - valueFrom: $(inputs.idx_basedir.path)/$(inputs.idx_basename)
        - valueFrom: $(inputs.idx_basedir.path)/$(inputs.idx_basename)
        inputs:
          idx_basedir:
            label: Path to the directory containing the reference genome
            type: Directory
          idx_basename:
            label: Reference genome basename
            type: string
        outputs:
          hisat2_index1:
            type: File
            outputBinding:
              glob: $(inputs.idx_basedir.path)/$(inputs.idx_basename).1.ht2
          hisat2_index2:
            type: File
            outputBinding:
              glob: $(inputs.idx_basedir.path)/$(inputs.idx_basename).2.ht2
          hisat2_index3:
            type: File
            outputBinding:
              glob: $(inputs.idx_basedir.path)/$(inputs.idx_basename).3.ht2
          hisat2_index4:
            type: File
            outputBinding:
              glob: $(inputs.idx_basedir.path)/$(inputs.idx_basename).4.ht2
          hisat2_index5:
            type: File
            outputBinding:
              glob: $(inputs.idx_basedir.path)/$(inputs.idx_basename).5.ht2
          hisat2_index6:
            type: File
            outputBinding:
              glob: $(inputs.idx_basedir.path)/$(inputs.idx_basename).6.ht2
          hisat2_index7:
            type: File
            outputBinding:
              glob: $(inputs.idx_basedir.path)/$(inputs.idx_basename).7.ht2
          hisat2_index8:
            type: File
            outputBinding:
              glob: $(inputs.idx_basedir.path)/$(inputs.idx_basename).8.ht2
    yamlinput:
      idx_basedir:
        class: Directory
        path: ./data
      idx_basename: tair10.fasta
      results_path:
        class: Directory
        path: ./data
      thread: 4
      ModulesToLoad:
        module1: hisat2/2.1.0
    cmdlist:
      defaultid:
        hisat2-index: 'hisat2-build ./data/tair10.fasta  ./data/tair10.fasta '
    input:
      defaultid: []
    output:
      defaultid:
        hisat2-index:
        - ./data/tair10.fasta.1.ht2
        - ./data/tair10.fasta.2.ht2
        - ./data/tair10.fasta.3.ht2
        - ./data/tair10.fasta.4.ht2
        - ./data/tair10.fasta.5.ht2
        - ./data/tair10.fasta.6.ht2
        - ./data/tair10.fasta.7.ht2
        - ./data/tair10.fasta.8.ht2
    files:
      cwl: hisat2/hisat2-index.cwl
      yml: hisat2/hisat2-index.yml
      dir_path: /param/cwl
      steps: hisat2-index
      output_names:
      - hisat2_index1
      - hisat2_index2
      - hisat2_index3
      - hisat2_index4
      - hisat2_index5
      - hisat2_index6
      - hisat2_index7
      - hisat2_index8
      targets: .na
    inputvars: []
    cmdToCwl: []
    status:
      status.summary: Pending
      status.completed:
        Targets: defaultid
        Total_Files: 8.0
        Existing_Files: 8.0
        Missing_Files: 0.0
        hisat2-index: Pending
      status.time: {}
    internal_outfiles:
      defaultid:
        hisat2-index:
        - ./data/tair10.fasta.1.ht2
        - ./data/tair10.fasta.2.ht2
        - ./data/tair10.fasta.3.ht2
        - ./data/tair10.fasta.4.ht2
        - ./data/tair10.fasta.5.ht2
        - ./data/tair10.fasta.6.ht2
        - ./data/tair10.fasta.7.ht2
        - ./data/tair10.fasta.8.ht2
  hisat2_mapping: |
    targets:
      M1A:
        trimmomatic_1_paired: results/M1A_1P.trimmed.fastq.gz
        trimmomatic_2_paired: results/M1A_2P.trimmed.fastq.gz
        SampleName: M1A
        Factor: M1
        SampleLong: Mock.1h.A
        Experiment: '1'
        Date: 23-Mar-2012
      M1B:
        trimmomatic_1_paired: results/M1B_1P.trimmed.fastq.gz
        trimmomatic_2_paired: results/M1B_2P.trimmed.fastq.gz
        SampleName: M1B
        Factor: M1
        SampleLong: Mock.1h.B
        Experiment: '1'
        Date: 23-Mar-2012
      A1A:
        trimmomatic_1_paired: results/A1A_1P.trimmed.fastq.gz
        trimmomatic_2_paired: results/A1A_2P.trimmed.fastq.gz
        SampleName: A1A
        Factor: A1
        SampleLong: Avr.1h.A
        Experiment: '1'
        Date: 23-Mar-2012
      A1B:
        trimmomatic_1_paired: results/A1B_1P.trimmed.fastq.gz
        trimmomatic_2_paired: results/A1B_2P.trimmed.fastq.gz
        SampleName: A1B
        Factor: A1
        SampleLong: Avr.1h.B
        Experiment: '1'
        Date: 23-Mar-2012
    targetsheader:
      targetsheader:
      - '# Project ID: Arabidopsis - Pseudomonas alternative splicing study (SRA: SRP010938;
        PMID: 24098335)'
      - '# The following line(s) allow to specify the contrasts needed for comparative
        analyses, such as DEG identification. All possible comparisons can be specified
        with ''CMPset: ALL''.'
      - '# <CMP> CMPset1: M1-A1'
      - '# <CMP> CMPset2: ALL'
    modules:
      module1: hisat2/2.1.0
      module2: samtools/1.9
    wf:
      class: Workflow
      cwlVersion: v1.0
      requirements:
        InitialWorkDirRequirement:
          listing: $(inputs.results_path)
      inputs:
        fq1: File
        fq2: File
        idx_basedir: Directory
        idx_basename: string
        SampleName: string
        thread: int
        results_path: Directory
      outputs:
        hisat2:
          outputSource: hisat2/hisat2_sam
          type: File
        samtools-view:
          outputSource: samtools-view/samtools_bam
          type: File
        samtools-sort:
          outputSource: samtools-sort/samtools_sort_bam
          type: File
        samtools-index:
          outputSource: samtools-index/samtools_index
          type: File
      steps:
        hisat2:
          in:
            fq1: fq1
            fq2: fq2
            idx_basedir: idx_basedir
            idx_basename: idx_basename
            SampleName: SampleName
            thread: thread
            results_path: results_path
          out: hisat2_sam
          run: hisat2/hisat2-mapping-pe.cwl
        samtools-view:
          in:
            samtools_sam: hisat2/hisat2_sam
            SampleName: SampleName
            results_path: results_path
          out: samtools_bam
          run: samtools/samtools-view.cwl
        samtools-sort:
          in:
            samtools_bam: samtools-view/samtools_bam
            SampleName: SampleName
            thread: thread
            results_path: results_path
          out: samtools_sort_bam
          run: samtools/samtools-sort.cwl
        samtools-index:
          in:
            samtools_sort_bam: samtools-sort/samtools_sort_bam
            SampleName: SampleName
            results_path: results_path
          out: samtools_index
          run: samtools/samtools-index.cwl
    clt:
      hisat2/hisat2-mapping-pe.cwl:
        cwlVersion: v1.0
        class: CommandLineTool
        doc: '[HISAT2](https://ccb.jhu.edu/software/hisat2/index.shtml): graph-based alignment
          of next generation sequencing reads to a population of genomes'
        label: Last updated 08/2019
        hints:
          SoftwareRequirement:
            packages:
            - package: hisat2
              version: 2.1.0
        baseCommand: hisat2
        requirements:
          InitialWorkDirRequirement:
            listing: $(inputs.results_path)
        arguments:
        - prefix: -S
          valueFrom: $(inputs.results_path.path)/$(inputs.SampleName).sam
        - prefix: -x
          valueFrom: $(inputs.idx_basedir.path)/$(inputs.idx_basename)
        - prefix: -k
          valueFrom: '1'
        - prefix: --min-intronlen
          valueFrom: '30'
        - prefix: --max-intronlen
          valueFrom: '3000'
        inputs:
          idx_basedir:
            label: Path to the directory containing the index for the reference genome
            type: Directory
          idx_basename:
            label: Basename of the hisat2 index files
            type: string
          fq1:
            label: Comma-separated list of files containing mate 1s to be aligned
            type: File
            inputBinding:
              prefix: '-1'
          fq2:
            label: Comma-separated list of files containing mate 2s to be aligned
            type: File
            inputBinding:
              prefix: '-2'
          thread:
            label: Launch NTHREADS parallel search threads
            type: int
            inputBinding:
              prefix: --threads
          SampleName:
            label: Filename to write output to
            type: string
          results_path:
            label: Path to the results directory
            type: Directory
        outputs:
          hisat2_sam:
            type: File
            outputBinding:
              glob: $(inputs.results_path.path)/$(inputs.SampleName).sam
      samtools/samtools-view.cwl:
        cwlVersion: v1.0
        class: CommandLineTool
        doc: '[Samtools](http://www.htslib.org/doc/samtools.html): Samtools is a suite
          of programs for interacting with high-throughput sequencing data'
        label: Last updated 09/2019
        hints:
          SoftwareRequirement:
            packages:
            - package: samtools
        baseCommand:
        - samtools
        - view
        - -bS
        requirements:
          InitialWorkDirRequirement:
            listing: $(inputs.results_path)
        arguments:
        - prefix: -o
          valueFrom: $(inputs.results_path.path)/$(inputs.SampleName).bam
        inputs:
          samtools_sam:
            type: File
            label: SAM format input file
            inputBinding:
              position: 1
          SampleName:
            label: Filename to write output to
            type: string
          results_path:
            label: Path to the results directory
            type: Directory
        outputs:
          samtools_bam:
            type: File
            outputBinding:
              glob: $(inputs.results_path.path)/$(inputs.SampleName).bam
      samtools/samtools-sort.cwl:
        cwlVersion: v1.0
        class: CommandLineTool
        doc: '[Samtools](http://www.htslib.org/doc/samtools.html): Samtools is a suite
          of programs for interacting with high-throughput sequencing data'
        hints:
          SoftwareRequirement:
            packages:
            - package: samtools
        baseCommand:
        - samtools
        - sort
        requirements:
          InitialWorkDirRequirement:
            listing: $(inputs.results_path)
        arguments:
        - prefix: -o
          valueFrom: $(inputs.results_path.path)/$(inputs.SampleName).sorted.bam
        inputs:
          samtools_bam:
            type: File
            label: BAM format input file
            inputBinding:
              position: 1
          SampleName:
            label: Filename to write output to
            type: string
          thread:
            type: int
            inputBinding:
              prefix: -@
          results_path:
            label: Path to the results directory
            type: Directory
        outputs:
          samtools_sort_bam:
            type: File
            outputBinding:
              glob: $(inputs.results_path.path)/$(inputs.SampleName).sorted.bam
      samtools/samtools-index.cwl:
        cwlVersion: v1.0
        class: CommandLineTool
        doc: '[Samtools](http://www.htslib.org/doc/samtools.html): Samtools is a suite
          of programs for interacting with high-throughput sequencing data'
        label: Last updated 09/2019
        hints:
          SoftwareRequirement:
            packages:
            - package: samtools
        baseCommand:
        - samtools
        - index
        - -b
        requirements:
          InitialWorkDirRequirement:
            listing: $(inputs.results_path)
        arguments:
        - valueFrom: $(inputs.results_path.basename)/$(inputs.SampleName).sorted.bam
        - valueFrom: $(inputs.results_path.basename)/$(inputs.SampleName).sorted.bam.bai
        inputs:
          samtools_sort_bam:
            type: File
            inputBinding:
              position: 1
          SampleName:
            label: Sample name
            type: string
          results_path:
            label: Path to the results directory
            type: Directory
        outputs:
          samtools_index:
            type: File
            outputBinding:
              glob: $(inputs.results_path.path)/$(inputs.SampleName).sorted.bam.bai
    yamlinput:
      idx_basedir:
        class: Directory
        path: ./data
      idx_basename: tair10.fasta
      fq1:
        class: File
        path: _FASTQ_PATH1_
      fq2:
        class: File
        path: _FASTQ_PATH2_
      SampleName: _SampleName_
      results_path:
        class: Directory
        path: ./results
      thread: 4
      ModulesToLoad:
        module1: hisat2/2.1.0
        module2: samtools/1.9
    cmdlist:
      M1A:
        hisat2: hisat2 -S ./results/M1A.sam  -x ./data/tair10.fasta  -k 1  --min-intronlen
          30  --max-intronlen 3000  -1 results/M1A_1P.trimmed.fastq.gz -2 results/M1A_2P.trimmed.fastq.gz
          --threads 4
        samtools-view: 'samtools view -bS -o ./results/M1A.bam  ./results/M1A.sam '
        samtools-sort: samtools sort -o ./results/M1A.sorted.bam  ./results/M1A.bam  -@
          4
        samtools-index: 'samtools index -b results/M1A.sorted.bam  results/M1A.sorted.bam.bai  ./results/M1A.sorted.bam '
      M1B:
        hisat2: hisat2 -S ./results/M1B.sam  -x ./data/tair10.fasta  -k 1  --min-intronlen
          30  --max-intronlen 3000  -1 results/M1B_1P.trimmed.fastq.gz -2 results/M1B_2P.trimmed.fastq.gz
          --threads 4
        samtools-view: 'samtools view -bS -o ./results/M1B.bam  ./results/M1B.sam '
        samtools-sort: samtools sort -o ./results/M1B.sorted.bam  ./results/M1B.bam  -@
          4
        samtools-index: 'samtools index -b results/M1B.sorted.bam  results/M1B.sorted.bam.bai  ./results/M1B.sorted.bam '
      A1A:
        hisat2: hisat2 -S ./results/A1A.sam  -x ./data/tair10.fasta  -k 1  --min-intronlen
          30  --max-intronlen 3000  -1 results/A1A_1P.trimmed.fastq.gz -2 results/A1A_2P.trimmed.fastq.gz
          --threads 4
        samtools-view: 'samtools view -bS -o ./results/A1A.bam  ./results/A1A.sam '
        samtools-sort: samtools sort -o ./results/A1A.sorted.bam  ./results/A1A.bam  -@
          4
        samtools-index: 'samtools index -b results/A1A.sorted.bam  results/A1A.sorted.bam.bai  ./results/A1A.sorted.bam '
      A1B:
        hisat2: hisat2 -S ./results/A1B.sam  -x ./data/tair10.fasta  -k 1  --min-intronlen
          30  --max-intronlen 3000  -1 results/A1B_1P.trimmed.fastq.gz -2 results/A1B_2P.trimmed.fastq.gz
          --threads 4
        samtools-view: 'samtools view -bS -o ./results/A1B.bam  ./results/A1B.sam '
        samtools-sort: samtools sort -o ./results/A1B.sorted.bam  ./results/A1B.bam  -@
          4
        samtools-index: 'samtools index -b results/A1B.sorted.bam  results/A1B.sorted.bam.bai  ./results/A1B.sorted.bam '
    input:
      M1A:
        trimmomatic_1_paired: results/M1A_1P.trimmed.fastq.gz
        trimmomatic_2_paired: results/M1A_2P.trimmed.fastq.gz
        SampleName: M1A
      M1B:
        trimmomatic_1_paired: results/M1B_1P.trimmed.fastq.gz
        trimmomatic_2_paired: results/M1B_2P.trimmed.fastq.gz
        SampleName: M1B
      A1A:
        trimmomatic_1_paired: results/A1A_1P.trimmed.fastq.gz
        trimmomatic_2_paired: results/A1A_2P.trimmed.fastq.gz
        SampleName: A1A
      A1B:
        trimmomatic_1_paired: results/A1B_1P.trimmed.fastq.gz
        trimmomatic_2_paired: results/A1B_2P.trimmed.fastq.gz
        SampleName: A1B
    output:
      M1A:
        hisat2: ./results/M1A.sam
        samtools-view: ./results/M1A.bam
        samtools-sort: ./results/M1A.sorted.bam
        samtools-index: ./results/M1A.sorted.bam.bai
      M1B:
        hisat2: ./results/M1B.sam
        samtools-view: ./results/M1B.bam
        samtools-sort: ./results/M1B.sorted.bam
        samtools-index: ./results/M1B.sorted.bam.bai
      A1A:
        hisat2: ./results/A1A.sam
        samtools-view: ./results/A1A.bam
        samtools-sort: ./results/A1A.sorted.bam
        samtools-index: ./results/A1A.sorted.bam.bai
      A1B:
        hisat2: ./results/A1B.sam
        samtools-view: ./results/A1B.bam
        samtools-sort: ./results/A1B.sorted.bam
        samtools-index: ./results/A1B.sorted.bam.bai
    files:
      cwl: workflow-hisat2/workflow_hisat2-pe.cwl
      yml: workflow-hisat2/workflow_hisat2-pe.yml
      dir_path: /param/cwl
      steps:
      - hisat2
      - samtools-view
      - samtools-sort
      - samtools-index
      cltpaths:
      - /home/dcassol/danielac@ucr.edu/projects/BioC2021_Workshop/systemPipeWorkshop2021/bioc2021/param/cwl/hisat2/hisat2-mapping-pe.cwl
      - /home/dcassol/danielac@ucr.edu/projects/BioC2021_Workshop/systemPipeWorkshop2021/bioc2021/param/cwl/samtools/samtools-view.cwl
      - /home/dcassol/danielac@ucr.edu/projects/BioC2021_Workshop/systemPipeWorkshop2021/bioc2021/param/cwl/samtools/samtools-sort.cwl
      - /home/dcassol/danielac@ucr.edu/projects/BioC2021_Workshop/systemPipeWorkshop2021/bioc2021/param/cwl/samtools/samtools-index.cwl
      output_names:
      - hisat2_sam
      - samtools_bam
      - samtools_sort_bam
      - samtools_index
      targets: .na
    inputvars:
      trimmomatic_1_paired: _FASTQ_PATH1_
      trimmomatic_2_paired: _FASTQ_PATH2_
      SampleName: _SampleName_
    cmdToCwl: []
    status:
      status.summary: Pending
      status.completed:
        Targets:
        - M1A
        - M1B
        - A1A
        - A1B
        Total_Files:
        - 4.0
        - 4.0
        - 4.0
        - 4.0
        Existing_Files:
        - 0.0
        - 0.0
        - 0.0
        - 0.0
        Missing_Files:
        - 4.0
        - 4.0
        - 4.0
        - 4.0
        hisat2:
        - Pending
        - Pending
        - Pending
        - Pending
        samtools-view:
        - Pending
        - Pending
        - Pending
        - Pending
        samtools-sort:
        - Pending
        - Pending
        - Pending
        - Pending
        samtools-index:
        - Pending
        - Pending
        - Pending
        - Pending
      status.time: {}
    internal_outfiles:
      M1A:
        hisat2: ./results/M1A.sam
        samtools-view: ./results/M1A.bam
        samtools-sort: ./results/M1A.sorted.bam
        samtools-index: ./results/M1A.sorted.bam.bai
      M1B:
        hisat2: ./results/M1B.sam
        samtools-view: ./results/M1B.bam
        samtools-sort: ./results/M1B.sorted.bam
        samtools-index: ./results/M1B.sorted.bam.bai
      A1A:
        hisat2: ./results/A1A.sam
        samtools-view: ./results/A1A.bam
        samtools-sort: ./results/A1A.sorted.bam
        samtools-index: ./results/A1A.sorted.bam.bai
      A1B:
        hisat2: ./results/A1B.sam
        samtools-view: ./results/A1B.bam
        samtools-sort: ./results/A1B.sorted.bam
        samtools-index: ./results/A1B.sorted.bam.bai
  mapping_stats: |
    codeLine:
    - bampaths <- getColumn(sal, step = "hisat2_mapping", "outfiles", column = "samtools_sort_bam")
    - fqpaths <- getColumn(sal, step = "trimming", "targetsWF", column = "FileName1")
    - read_statsDF <- alignStats(args = bampaths, fqpaths = fqpaths, pairEnd = TRUE)
    - write.table(read_statsDF, "results/alignStats.xls", row.names = FALSE, quote = FALSE,
      sep = "\t")
    codeChunkStart: 187
    rmdPath: systemPipeRNAseq_importWF.Rmd
    stepName: mapping_stats
    dependency:
      mapping_stats: hisat2_mapping
    status:
      status.summary: Pending
      status.completed:
        Step: mapping_stats
        status.summary: Pending
      status.time: {}
    files: []
  read_counting: |
    codeLine:
    - library("GenomicFeatures")
    - library(BiocParallel)
    - "(function() {\n    if (file.exists(\"./data/tair10.sqlite\")) \n        return(TRUE)\n
      \   txdb <- makeTxDbFromGFF(file = \"data/tair10.gff\", format = \"gff\", dataSource
      = \"TAIR\", organism = \"Arabidopsis thaliana\")\n    saveDb(txdb, file = \"./data/tair10.sqlite\")\n})()"
    - txdb <- loadDb("./data/tair10.sqlite")
    - outpaths <- getColumn(sal, step = "hisat2_mapping", "outfiles", column = "samtools_sort_bam")
    - eByg <- exonsBy(txdb, by = c("gene"))
    - bfl <- BamFileList(outpaths, yieldSize = 50000, index = character())
    - multicoreParam <- MulticoreParam(workers = 2)
    - register(multicoreParam)
    - registered()
    - counteByg <- bplapply(bfl, function(x) summarizeOverlaps(eByg, x, mode = "Union",
      ignore.strand = TRUE, inter.feature = FALSE, singleEnd = TRUE))
    - countDFeByg <- sapply(seq(along = counteByg), function(x) assays(counteByg[[x]])$counts)
    - rownames(countDFeByg) <- names(rowRanges(counteByg[[1]]))
    - colnames(countDFeByg) <- names(bfl)
    - rpkmDFeByg <- apply(countDFeByg, 2, function(x) returnRPKM(counts = x, ranges =
      eByg))
    - write.table(countDFeByg, "results/countDFeByg.xls", col.names = NA, quote = FALSE,
      sep = "\t")
    - write.table(rpkmDFeByg, "results/rpkmDFeByg.xls", col.names = NA, quote = FALSE,
      sep = "\t")
    codeChunkStart: 208
    rmdPath: systemPipeRNAseq_importWF.Rmd
    stepName: read_counting
    dependency:
      read_counting: hisat2_mapping
    status:
      status.summary: Pending
      status.completed:
        Step: read_counting
        status.summary: Pending
      status.time: {}
    files: []
  sessionInfo: |
    codeLine: sessionInfo()
    codeChunkStart: 242
    rmdPath: systemPipeRNAseq_importWF.Rmd
    stepName: sessionInfo
    dependency:
      sessionInfo: read_counting
    status:
      status.summary: Pending
      status.completed:
        Step: sessionInfo
        status.summary: Pending
      status.time: {}
    files: []
statusWF:
  load_SPR: |
    load_SPR:
      status.summary: Pending
      status.completed:
        Step: load_SPR
        status.summary: Pending
      status.time: {}
  trimming: |
    trimming:
      status.summary: Pending
      status.completed:
        Targets:
        - M1A
        - M1B
        - A1A
        - A1B
        Total_Files:
        - 4.0
        - 4.0
        - 4.0
        - 4.0
        Existing_Files:
        - 0.0
        - 0.0
        - 0.0
        - 0.0
        Missing_Files:
        - 4.0
        - 4.0
        - 4.0
        - 4.0
        trimmomatic-pe:
        - Pending
        - Pending
        - Pending
        - Pending
      status.time: {}
  hisat2_index: |
    hisat2_index:
      status.summary: Pending
      status.completed:
        Targets: defaultid
        Total_Files: 8.0
        Existing_Files: 8.0
        Missing_Files: 0.0
        hisat2-index: Pending
      status.time: {}
  hisat2_mapping: |
    hisat2_mapping:
      status.summary: Pending
      status.completed:
        Targets:
        - M1A
        - M1B
        - A1A
        - A1B
        Total_Files:
        - 4.0
        - 4.0
        - 4.0
        - 4.0
        Existing_Files:
        - 0.0
        - 0.0
        - 0.0
        - 0.0
        Missing_Files:
        - 4.0
        - 4.0
        - 4.0
        - 4.0
        hisat2:
        - Pending
        - Pending
        - Pending
        - Pending
        samtools-view:
        - Pending
        - Pending
        - Pending
        - Pending
        samtools-sort:
        - Pending
        - Pending
        - Pending
        - Pending
        samtools-index:
        - Pending
        - Pending
        - Pending
        - Pending
      status.time: {}
  mapping_stats: |
    mapping_stats:
      status.summary: Pending
      status.completed:
        Step: mapping_stats
        status.summary: Pending
      status.time: {}
  read_counting: |
    read_counting:
      status.summary: Pending
      status.completed:
        Step: read_counting
        status.summary: Pending
      status.time: {}
  sessionInfo: |
    sessionInfo:
      status.summary: Pending
      status.completed:
        Step: sessionInfo
        status.summary: Pending
      status.time: {}
targetsWF:
  load_SPR: |
    {}
  trimming: |
    FileName1:
    - ./data/SRR446027_1.fastq.gz
    - ./data/SRR446028_1.fastq.gz
    - ./data/SRR446029_1.fastq.gz
    - ./data/SRR446030_1.fastq.gz
    FileName2:
    - ./data/SRR446027_2.fastq.gz
    - ./data/SRR446028_2.fastq.gz
    - ./data/SRR446029_2.fastq.gz
    - ./data/SRR446030_2.fastq.gz
    SampleName:
    - M1A
    - M1B
    - A1A
    - A1B
    Factor:
    - M1
    - M1
    - A1
    - A1
    SampleLong:
    - Mock.1h.A
    - Mock.1h.B
    - Avr.1h.A
    - Avr.1h.B
    Experiment:
    - '1'
    - '1'
    - '1'
    - '1'
    Date:
    - 23-Mar-2012
    - 23-Mar-2012
    - 23-Mar-2012
    - 23-Mar-2012
  hisat2_index: |
    {}
  hisat2_mapping: |
    trimmomatic_1_paired:
    - results/M1A_1P.trimmed.fastq.gz
    - results/M1B_1P.trimmed.fastq.gz
    - results/A1A_1P.trimmed.fastq.gz
    - results/A1B_1P.trimmed.fastq.gz
    trimmomatic_2_paired:
    - results/M1A_2P.trimmed.fastq.gz
    - results/M1B_2P.trimmed.fastq.gz
    - results/A1A_2P.trimmed.fastq.gz
    - results/A1B_2P.trimmed.fastq.gz
    SampleName:
    - M1A
    - M1B
    - A1A
    - A1B
    Factor:
    - M1
    - M1
    - A1
    - A1
    SampleLong:
    - Mock.1h.A
    - Mock.1h.B
    - Avr.1h.A
    - Avr.1h.B
    Experiment:
    - '1'
    - '1'
    - '1'
    - '1'
    Date:
    - 23-Mar-2012
    - 23-Mar-2012
    - 23-Mar-2012
    - 23-Mar-2012
  mapping_stats: |
    {}
  read_counting: |
    {}
  sessionInfo: |
    {}
outfiles:
  load_SPR: |
    {}
  trimming: |
    trimmomatic_1_paired:
    - results/M1A_1P.trimmed.fastq.gz
    - results/M1B_1P.trimmed.fastq.gz
    - results/A1A_1P.trimmed.fastq.gz
    - results/A1B_1P.trimmed.fastq.gz
    trimmomatic_1_unpaired:
    - results/M1A_1U.trimmed.fastq.gz
    - results/M1B_1U.trimmed.fastq.gz
    - results/A1A_1U.trimmed.fastq.gz
    - results/A1B_1U.trimmed.fastq.gz
    trimmomatic_2_paired:
    - results/M1A_2P.trimmed.fastq.gz
    - results/M1B_2P.trimmed.fastq.gz
    - results/A1A_2P.trimmed.fastq.gz
    - results/A1B_2P.trimmed.fastq.gz
    trimmomatic_2_unpaired:
    - results/M1A_2U.trimmed.fastq.gz
    - results/M1B_2U.trimmed.fastq.gz
    - results/A1A_2U.trimmed.fastq.gz
    - results/A1B_2U.trimmed.fastq.gz
  hisat2_index: |
    hisat2_index1: ./data/tair10.fasta.1.ht2
    hisat2_index2: ./data/tair10.fasta.2.ht2
    hisat2_index3: ./data/tair10.fasta.3.ht2
    hisat2_index4: ./data/tair10.fasta.4.ht2
    hisat2_index5: ./data/tair10.fasta.5.ht2
    hisat2_index6: ./data/tair10.fasta.6.ht2
    hisat2_index7: ./data/tair10.fasta.7.ht2
    hisat2_index8: ./data/tair10.fasta.8.ht2
  hisat2_mapping: |
    hisat2_sam:
    - ./results/M1A.sam
    - ./results/M1B.sam
    - ./results/A1A.sam
    - ./results/A1B.sam
    samtools_bam:
    - ./results/M1A.bam
    - ./results/M1B.bam
    - ./results/A1A.bam
    - ./results/A1B.bam
    samtools_sort_bam:
    - ./results/M1A.sorted.bam
    - ./results/M1B.sorted.bam
    - ./results/A1A.sorted.bam
    - ./results/A1B.sorted.bam
    samtools_index:
    - ./results/M1A.sorted.bam.bai
    - ./results/M1B.sorted.bam.bai
    - ./results/A1A.sorted.bam.bai
    - ./results/A1B.sorted.bam.bai
  mapping_stats: |
    {}
  read_counting: |
    {}
  sessionInfo: |
    {}
SEobj: |
  []
dependency:
  load_SPR: |
    load_SPR: ''
  trimming: |
    trimming: load_SPR
  hisat2_index: |
    hisat2_index: load_SPR
  hisat2_mapping: |
    hisat2_mapping:
    - trimming
    - hisat2_index
  mapping_stats: |
    mapping_stats: hisat2_mapping
  read_counting: |
    read_counting: hisat2_mapping
  sessionInfo: |
    sessionInfo: read_counting
targets_connection:
  load_SPR: |
    load_SPR: ~
  trimming: |
    trimming: ~
  hisat2_index: |
    hisat2_index: ~
  hisat2_mapping: |
    hisat2_mapping:
      targets_step:
        targets_step: trimming
      new_targets_col:
        new_targets_col:
        - trimmomatic_1_paired
        - trimmomatic_2_paired
        - SampleName
      rm_targets_col:
        rm_targets_col:
        - FileName1
        - FileName2
  mapping_stats: |
    mapping_stats: ~
  read_counting: |
    read_counting: ~
  sessionInfo: |
    sessionInfo: ~
projectInfo: |
  project: /home/dcassol/danielac@ucr.edu/projects/BioC2021_Workshop/systemPipeWorkshop2021/bioc2021
  data: data
  param: param
  results: results
  logsDir: .SPRproject
  sysargslist: .SPRproject/SYSargsList.yml
  rmd_file: systemPipeRNAseq_importWF.Rmd
runInfo: |
  load_SPR: no
  trimming: yes
  hisat2_index: no
  hisat2_mapping: yes
  mapping_stats: no
  read_counting: no
  sessionInfo: no
